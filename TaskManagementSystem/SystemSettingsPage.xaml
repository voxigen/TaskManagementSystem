<Page x:Class="TaskManagementSystem.SystemSettingsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Настройки системы">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="24">
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="Настройки системы" 
                               FontSize="20" FontWeight="SemiBold" 
                               Foreground="#2c3e50" VerticalAlignment="Center"/>
                </StackPanel>
            </Border>

            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="Резервное копирование и восстановление" 
                               FontSize="16" FontWeight="SemiBold" 
                               Foreground="#2c3e50" Margin="0,0,0,15"/>

                    <TextBlock Text="Создайте резервную копию всей системы для предотвращения потери данных." 
                               FontSize="12" 
                               Foreground="#7f8c8d" 
                               TextWrapping="Wrap"
                               Margin="0,0,0,20"/>

                    <Button x:Name="BackupButton" 
                           Content="💾 Создать резервную копию" 
                           Background="#27ae60" 
                           Foreground="White" 
                           FontWeight="SemiBold" 
                           Height="40" 
                           BorderThickness="0" 
                           Margin="0,0,0,10"
                           Click="BackupButton_Click"/>

                    <Button x:Name="RestoreButton" 
                           Content="📥 Восстановить из резервной копии" 
                           Background="#3498db" 
                           Foreground="White" 
                           FontWeight="SemiBold" 
                           Height="40" 
                           BorderThickness="0" 
                           Margin="0,0,0,10"
                           Click="RestoreButton_Click"/>

                    <ProgressBar x:Name="BackupProgress" 
                                Height="6" 
                                Margin="0,10,0,0" 
                                Visibility="Collapsed"/>

                    <TextBlock x:Name="StatusText" 
                               Text="" 
                               FontSize="12" 
                               Foreground="#7f8c8d" 
                               Margin="0,10,0,0" 
                               TextWrapping="Wrap"/>
                </StackPanel>
            </Border>

            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="Информация о системе" 
                               FontSize="16" FontWeight="SemiBold" 
                               Foreground="#2c3e50" Margin="0,0,0,15"/>

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" 
                                  Text="Версия системы:" 
                                  FontSize="12" 
                                  Foreground="#2c3e50"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" 
                                  Text="1.0.0" 
                                  FontSize="12" 
                                  Foreground="#7f8c8d"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" 
                                  Text="Дата сборки:" 
                                  FontSize="12" 
                                  Foreground="#2c3e50" 
                                  Margin="0,5,0,0"/>
                        <TextBlock x:Name="BuildDateText"
                                  Grid.Row="1" Grid.Column="1" 
                                  Text="" 
                                  FontSize="12" 
                                  Foreground="#7f8c8d" 
                                  Margin="0,5,0,0"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" 
                                  Text="Размер базы данных:" 
                                  FontSize="12" 
                                  Foreground="#2c3e50" 
                                  Margin="0,5,0,0"/>
                        <TextBlock x:Name="DatabaseSizeText" 
                                  Grid.Row="2" Grid.Column="1" 
                                  Text="Расчет..." 
                                  FontSize="12" 
                                  Foreground="#7f8c8d" 
                                  Margin="0,5,0,0"/>

                        <TextBlock Grid.Row="3" Grid.Column="0" 
                                  Text="Путь к БД:" 
                                  FontSize="12" 
                                  Foreground="#2c3e50" 
                                  Margin="0,5,0,0"/>
                        <TextBlock x:Name="DatabasePathText" 
                                  Grid.Row="3" Grid.Column="1" 
                                  Text="" 
                                  FontSize="12" 
                                  Foreground="#7f8c8d" 
                                  Margin="0,5,0,0" 
                                  TextWrapping="Wrap"/>

                        <TextBlock Grid.Row="4" Grid.Column="0" 
                                  Text="Последняя резервная копия:" 
                                  FontSize="12" 
                                  Foreground="#2c3e50" 
                                  Margin="0,5,0,0"/>
                        <TextBlock x:Name="LastBackupText" 
                                  Grid.Row="4" Grid.Column="1" 
                                  Text="Не создавалась" 
                                  FontSize="12" 
                                  Foreground="#7f8c8d" 
                                  Margin="0,5,0,0"/>
                    </Grid>
                </StackPanel>
            </Border>

            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="Быстрые действия" 
                               FontSize="16" FontWeight="SemiBold" 
                               Foreground="#2c3e50" Margin="0,0,0,15"/>

                    <StackPanel Orientation="Horizontal">
                        <Button x:Name="ClearCacheButton" 
                               Content="🧹 Очистить кэш" 
                               Background="#95a5a6" 
                               Foreground="White" 
                               FontWeight="SemiBold" 
                               Height="35" 
                               BorderThickness="0" 
                               Margin="0,0,10,0"
                               Click="ClearCacheButton_Click"/>

                        <Button x:Name="CheckUpdatesButton" 
                               Content="🔄 Проверить обновления" 
                               Background="#f39c12" 
                               Foreground="White" 
                               FontWeight="SemiBold" 
                               Height="35" 
                               BorderThickness="0"
                               Click="CheckUpdatesButton_Click"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="⚠️ Важная информация" 
                               FontSize="16" FontWeight="SemiBold" 
                               Foreground="#e74c3c" Margin="0,0,0,15"/>

                    <TextBlock Text="• Резервное копирование сохраняет ВСЕ данные системы" 
                               FontSize="12" 
                               Foreground="#2c3e50" 
                               Margin="0,0,0,5"/>
                    <TextBlock Text="• Восстановление перезапишет текущие данные" 
                               FontSize="12" 
                               Foreground="#2c3e50" 
                               Margin="0,0,0,5"/>
                    <TextBlock Text="• Рекомендуется создавать резервные копии перед обновлениями" 
                               FontSize="12" 
                               Foreground="#2c3e50" 
                               Margin="0,0,0,5"/>
                    <TextBlock Text="• Файлы резервных копий хранятся в папке Backups" 
                               FontSize="12" 
                               Foreground="#2c3e50" 
                               Margin="0,0,0,5"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>