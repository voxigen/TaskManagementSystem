<Window x:Class="TaskManagementSystem.CourseManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Управление курсами" 
        Height="700" 
        Width="1000"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>


        <Border Background="#2c3e50" Padding="20,15">
            <StackPanel>
                <TextBlock Text="📚 Управление курсами" 
                          FontSize="18" FontWeight="Bold" 
                          Foreground="White" HorizontalAlignment="Center"/>
                <TextBlock Text="Создание, редактирование и управление учебными курсами" 
                          FontSize="11" Foreground="#bdc3c7" 
                          HorizontalAlignment="Center" Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

      
        <Grid Grid.Row="1" Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="350"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" Background="White" 
                    BorderBrush="#bdc3c7" BorderThickness="1" 
                    Padding="15">
                <StackPanel>
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Text="Список курсов" 
                                  FontSize="16" FontWeight="SemiBold" 
                                  Foreground="#2c3e50"/>

                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                            <TextBox x:Name="SearchTextBox" 
                                    Width="200" Height="28"
                                    Padding="8,4" 
                                    BorderBrush="#bdc3c7" 
                                    BorderThickness="1"
                                    TextChanged="SearchTextBox_TextChanged"
                                    Margin="0,0,10,0">
                                <TextBox.Style>
                                    <Style TargetType="TextBox">
                                        <Setter Property="Tag" Value="Поиск курсов..."/>
                                        <Style.Triggers>
                                            <Trigger Property="IsFocused" Value="True">
                                                <Setter Property="BorderBrush" Value="#3498db"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBox.Style>
                            </TextBox>

                            <Button x:Name="RefreshButton" 
                                   Content="⟳" 
                                   Width="32" Height="28"
                                   Background="#3498db" 
                                   Foreground="White"
                                   BorderThickness="0"
                                   Cursor="Hand"
                                   Click="RefreshButton_Click"
                                   ToolTip="Обновить список">
                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#2980b9"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                        </StackPanel>
                    </Grid>

                    <DataGrid x:Name="CoursesDataGrid" 
                             AutoGenerateColumns="False" 
                             CanUserAddRows="False"
                             IsReadOnly="True"
                             SelectionMode="Single"
                             SelectionChanged="CoursesDataGrid_SelectionChanged"
                             BorderBrush="#bdc3c7"
                             BorderThickness="1"
                             Height="400">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
                            <DataGridTextColumn Header="Название" Binding="{Binding Title}" Width="200"/>
                            <DataGridTextColumn Header="Описание" Binding="{Binding Description}" Width="300"/>
                            <DataGridTextColumn Header="Студентов" Binding="{Binding StudentCount}" Width="80"/>
                            <DataGridTextColumn Header="Преподавателей" Binding="{Binding TeacherCount}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Border>

            
            <Border Grid.Column="2" Background="White" 
                    BorderBrush="#bdc3c7" BorderThickness="1" 
                    Padding="15">
                <StackPanel>
                    <TextBlock Text="Действия с курсом" 
                              FontSize="16" FontWeight="SemiBold" 
                              Foreground="#2c3e50" Margin="0,0,0,15"/>

                    <Button x:Name="AddCourseButton" 
                           Content="➕ Добавить курс" 
                           Background="#27ae60" 
                           Foreground="White" 
                           FontWeight="SemiBold" 
                           Height="40" 
                           BorderThickness="0" 
                           Margin="0,0,0,10"
                           Click="AddCourseButton_Click">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#219652"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <Button x:Name="EditCourseButton" 
                           Content="✏️ Редактировать курс" 
                           Background="#3498db" 
                           Foreground="White" 
                           FontWeight="SemiBold" 
                           Height="40" 
                           BorderThickness="0" 
                           Margin="0,0,0,10"
                           Click="EditCourseButton_Click"
                           IsEnabled="False">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#2980b9"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <Button x:Name="DeleteCourseButton" 
                           Content="🗑️ Удалить курс" 
                           Background="#e74c3c" 
                           Foreground="White" 
                           FontWeight="SemiBold" 
                           Height="40" 
                           BorderThickness="0" 
                           Margin="0,0,0,10"
                           Click="DeleteCourseButton_Click"
                           IsEnabled="False">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#c0392b"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <Separator Background="#bdc3c7" Margin="0,10,0,10"/>

                    <TextBlock Text="Управление составом" 
                              FontSize="14" FontWeight="SemiBold" 
                              Foreground="#2c3e50" Margin="0,0,0,10"/>

                    <Button x:Name="ManageStudentsButton" 
                           Content="👥 Управление студентами" 
                           Background="#9b59b6" 
                           Foreground="White" 
                           FontWeight="SemiBold" 
                           Height="35" 
                           BorderThickness="0" 
                           Margin="0,0,0,8"
                           Click="ManageStudentsButton_Click"
                           IsEnabled="False">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#8e44ad"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <Button x:Name="ManageTeachersButton" 
                           Content="👨‍🏫 Управление преподавателями" 
                           Background="#f39c12" 
                           Foreground="White" 
                           FontWeight="SemiBold" 
                           Height="35" 
                           BorderThickness="0" 
                           Margin="0,0,0,8"
                           Click="ManageTeachersButton_Click"
                           IsEnabled="False">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#e67e22"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <Button x:Name="ViewStatisticsButton" 
                           Content="📊 Статистика курса" 
                           Background="#1abc9c" 
                           Foreground="White" 
                           FontWeight="SemiBold" 
                           Height="35" 
                           BorderThickness="0" 
                           Margin="0,0,0,20"
                           Click="ViewStatisticsButton_Click"
                           IsEnabled="False">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#16a085"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                  
                    <Border Background="#ecf0f1" Padding="10" CornerRadius="4">
                        <StackPanel>
                            <TextBlock Text="Выбранный курс:" 
                                      FontSize="12" FontWeight="SemiBold" 
                                      Foreground="#2c3e50" Margin="0,0,0,5"/>
                            <TextBlock x:Name="SelectedCourseInfo" 
                                      Text="Не выбран" 
                                      FontSize="11" 
                                      Foreground="#7f8c8d" 
                                      TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>
        </Grid>

 
        <Border Grid.Row="2" Background="#ecf0f1" Padding="15,10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <TextBlock Text="Всего курсов: " 
                          FontSize="11" 
                          Foreground="#7f8c8d" 
                          VerticalAlignment="Center"/>
                <TextBlock x:Name="TotalCoursesText" 
                          Text="0" 
                          FontSize="11" 
                          FontWeight="Bold" 
                          Foreground="#2c3e50" 
                          VerticalAlignment="Center" 
                          Margin="2,0,20,0"/>
                <Button x:Name="CloseButton" 
                       Content="Закрыть" 
                       Background="#3498db" 
                       Foreground="White" 
                       FontWeight="SemiBold" 
                       Width="100" 
                       Height="32" 
                       BorderThickness="0" 
                       Margin="0,0,0,0"
                       Click="CloseButton_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#2980b9"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</Window>